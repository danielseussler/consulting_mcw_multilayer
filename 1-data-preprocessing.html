<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Dennis Klein, Daniel Seussler" />
  <title>Statistical Consulting</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>
  <link href="data:text/css,input%2Ctextarea%2Cselect%2Cbutton%2Coption%2Chtml%2Cbody%7Bfont%2Dfamily%3Asystem%2Dui%2C%22Helvetica%20Neue%22%2CHelvetica%2CArial%2Csans%2Dserif%3Bfont%2Dsize%3A18px%3Bfont%2Dstretch%3Anormal%3Bfont%2Dstyle%3Anormal%3Bfont%2Dweight%3A400%3Bline%2Dheight%3A29%2E7px%7Dinput%2Ctextarea%2Cselect%2Cbutton%2Coption%2Chtml%2Cbody%7Bfont%2Dfamily%3Asystem%2Dui%2C%22Helvetica%20Neue%22%2CHelvetica%2CArial%2Csans%2Dserif%3Bfont%2Dsize%3A18px%3Bfont%2Dstretch%3Anormal%3Bfont%2Dstyle%3Anormal%3Bfont%2Dweight%3A400%3Bline%2Dheight%3A29%2E7px%7Dth%7Bfont%2Dweight%3A600%7Dtd%2Cth%7Bborder%2Dbottom%3A1%2E08px%20solid%20%23595959%3Bpadding%3A14%2E85px%2018px%3Btext%2Dalign%3Aleft%3Bvertical%2Dalign%3Atop%7Dthead%20th%7Bborder%2Dbottom%2Dwidth%3A2%2E16px%3Bpadding%2Dbottom%3A6%2E3px%7Dtable%7Bdisplay%3Atable%3Bwidth%3A100%25%7D%40media%20all%20and%20%28max%2Dwidth%3A%201024px%29%7Btable%7Bdisplay%3Anone%7D%7D%40media%20all%20and%20%28max%2Dwidth%3A%201024px%29%7Btable%20thead%7Bdisplay%3Anone%7D%7Dtable%20tr%7Bborder%2Dbottom%2Dwidth%3A2%2E16px%7Dtable%20tr%20th%7Bborder%2Dbottom%2Dwidth%3A2%2E16px%7Dtable%20tr%20td%2Ctable%20tr%20th%7Boverflow%3Ahidden%3Bpadding%3A5%2E4px%203%2E6px%7D%40media%20all%20and%20%28max%2Dwidth%3A%201024px%29%7Btable%20tr%20td%2Ctable%20tr%20th%7Bborder%3A0%3Bdisplay%3Ainline%2Dblock%7D%7D%40media%20all%20and%20%28max%2Dwidth%3A%201024px%29%7Btable%20tr%7Bdisplay%3Ainline%2Dblock%3Bmargin%3A10%2E8px%200%7D%7D%40media%20all%20and%20%28max%2Dwidth%3A%201024px%29%7Btable%7Bdisplay%3Ainline%2Dblock%7D%7Dinput%2Ctextarea%2Cselect%2Cbutton%2Coption%2Chtml%2Cbody%7Bfont%2Dfamily%3Asystem%2Dui%2C%22Helvetica%20Neue%22%2CHelvetica%2CArial%2Csans%2Dserif%3Bfont%2Dsize%3A18px%3Bfont%2Dstretch%3Anormal%3Bfont%2Dstyle%3Anormal%3Bfont%2Dweight%3A400%3Bline%2Dheight%3A29%2E7px%7Dfieldset%7Bdisplay%3Aflex%3Bflex%2Ddirection%3Arow%3Bflex%2Dwrap%3Awrap%7Dfieldset%20legend%7Bmargin%3A18px%200%7Dinput%2Ctextarea%2Cselect%2Cbutton%7Bborder%2Dradius%3A3%2E6px%3Bdisplay%3Ainline%2Dblock%3Bpadding%3A9%2E9px%7Dinput%2Blabel%2Cinput%2Binput%5Btype%3D%22checkbox%22%5D%2Cinput%2Binput%5Btype%3D%22radio%22%5D%2Ctextarea%2Blabel%2Ctextarea%2Binput%5Btype%3D%22checkbox%22%5D%2Ctextarea%2Binput%5Btype%3D%22radio%22%5D%2Cselect%2Blabel%2Cselect%2Binput%5Btype%3D%22checkbox%22%5D%2Cselect%2Binput%5Btype%3D%22radio%22%5D%2Cbutton%2Blabel%2Cbutton%2Binput%5Btype%3D%22checkbox%22%5D%2Cbutton%2Binput%5Btype%3D%22radio%22%5D%7Bpage%2Dbreak%2Dbefore%3Aalways%7Dinput%2Cselect%2Clabel%7Bmargin%2Dright%3A3%2E6px%7Dtextarea%7Bmin%2Dheight%3A90px%3Bmin%2Dwidth%3A360px%7Dlabel%7Bdisplay%3Ainline%2Dblock%3Bmargin%2Dbottom%3A12%2E6px%7Dlabel%2B%2A%7Bpage%2Dbreak%2Dbefore%3Aalways%7Dlabel%3Einput%7Bmargin%2Dbottom%3A0%7Dinput%5Btype%3D%22submit%22%5D%2Cinput%5Btype%3D%22reset%22%5D%2Cbutton%7Bbackground%3A%23f2f2f2%3Bcolor%3A%23191919%3Bcursor%3Apointer%3Bdisplay%3Ainline%3Bmargin%2Dbottom%3A18px%3Bmargin%2Dright%3A7%2E2px%3Bpadding%3A6%2E525px%2023%2E4px%3Btext%2Dalign%3Acenter%7Dinput%5Btype%3D%22submit%22%5D%3Ahover%2Cinput%5Btype%3D%22reset%22%5D%3Ahover%2Cbutton%3Ahover%7Bbackground%3A%23d9d9d9%3Bcolor%3A%23000%7Dinput%5Btype%3D%22submit%22%5D%5Bdisabled%5D%2Cinput%5Btype%3D%22reset%22%5D%5Bdisabled%5D%2Cbutton%5Bdisabled%5D%7Bbackground%3A%23e6e5e5%3Bcolor%3A%23403f3f%3Bcursor%3Anot%2Dallowed%7Dinput%5Btype%3D%22submit%22%5D%2Cbutton%5Btype%3D%22submit%22%5D%7Bbackground%3A%23275a90%3Bcolor%3A%23fff%7Dinput%5Btype%3D%22submit%22%5D%3Ahover%2Cbutton%5Btype%3D%22submit%22%5D%3Ahover%7Bbackground%3A%23173454%3Bcolor%3A%23bfbfbf%7Dinput%2Cselect%2Ctextarea%7Bmargin%2Dbottom%3A18px%7Dinput%5Btype%3D%22text%22%5D%2Cinput%5Btype%3D%22password%22%5D%2Cinput%5Btype%3D%22email%22%5D%2Cinput%5Btype%3D%22url%22%5D%2Cinput%5Btype%3D%22phone%22%5D%2Cinput%5Btype%3D%22tel%22%5D%2Cinput%5Btype%3D%22number%22%5D%2Cinput%5Btype%3D%22datetime%22%5D%2Cinput%5Btype%3D%22date%22%5D%2Cinput%5Btype%3D%22month%22%5D%2Cinput%5Btype%3D%22week%22%5D%2Cinput%5Btype%3D%22color%22%5D%2Cinput%5Btype%3D%22time%22%5D%2Cinput%5Btype%3D%22search%22%5D%2Cinput%5Btype%3D%22range%22%5D%2Cinput%5Btype%3D%22file%22%5D%2Cinput%5Btype%3D%22datetime%2Dlocal%22%5D%2Cselect%2Ctextarea%7Bborder%3A1px%20solid%20%23595959%3Bpadding%3A5%2E4px%206%2E3px%7Dinput%5Btype%3D%22checkbox%22%5D%2Cinput%5Btype%3D%22radio%22%5D%7Bflex%2Dgrow%3A0%3Bheight%3A29%2E7px%3Bmargin%2Dleft%3A0%3Bmargin%2Dright%3A9px%3Bvertical%2Dalign%3Amiddle%7Dinput%5Btype%3D%22checkbox%22%5D%2Blabel%2Cinput%5Btype%3D%22radio%22%5D%2Blabel%7Bpage%2Dbreak%2Dbefore%3Aavoid%7Dselect%5Bmultiple%5D%7Bmin%2Dwidth%3A270px%7Dinput%2Ctextarea%2Cselect%2Cbutton%2Coption%2Chtml%2Cbody%7Bfont%2Dfamily%3Asystem%2Dui%2C%22Helvetica%20Neue%22%2CHelvetica%2CArial%2Csans%2Dserif%3Bfont%2Dsize%3A18px%3Bfont%2Dstretch%3Anormal%3Bfont%2Dstyle%3Anormal%3Bfont%2Dweight%3A400%3Bline%2Dheight%3A29%2E7px%7Dpre%2Ccode%2Ckbd%2Csamp%2Cvar%2Coutput%7Bfont%2Dfamily%3AMenlo%2CMonaco%2CConsolas%2C%22Courier%20New%22%2Cmonospace%3Bfont%2Dsize%3A14%2E4px%7Dpre%7Bborder%2Dleft%3A1%2E8px%20solid%20%2359c072%3Bline%2Dheight%3A25%2E2px%3Boverflow%3Aauto%3Bpadding%2Dleft%3A18px%7Dpre%20code%7Bbackground%3Anone%3Bborder%3A0%3Bline%2Dheight%3A29%2E7px%3Bpadding%3A0%7Dcode%2Ckbd%7Bbackground%3A%23daf1e0%3Bborder%2Dradius%3A3%2E6px%3Bcolor%3A%232a6f3b%3Bdisplay%3Ainline%2Dblock%3Bline%2Dheight%3A18px%3Bpadding%3A3%2E6px%206%2E3px%202%2E7px%7Dkbd%7Bbackground%3A%232a6f3b%3Bcolor%3A%23fff%7Dmark%7Bbackground%3A%23ffc%3Bpadding%3A0%203%2E6px%7Dinput%2Ctextarea%2Cselect%2Cbutton%2Coption%2Chtml%2Cbody%7Bfont%2Dfamily%3Asystem%2Dui%2C%22Helvetica%20Neue%22%2CHelvetica%2CArial%2Csans%2Dserif%3Bfont%2Dsize%3A18px%3Bfont%2Dstretch%3Anormal%3Bfont%2Dstyle%3Anormal%3Bfont%2Dweight%3A400%3Bline%2Dheight%3A29%2E7px%7Dh1%2Ch2%2Ch3%2Ch4%2Ch5%2Ch6%7Bcolor%3A%23000%3Bmargin%2Dbottom%3A18px%7Dh1%7Bfont%2Dsize%3A36px%3Bfont%2Dweight%3A500%3Bline%2Dheight%3A41%2E4px%3Bmargin%2Dtop%3A72px%7Dh2%7Bfont%2Dsize%3A25%2E2px%3Bfont%2Dweight%3A400%3Bline%2Dheight%3A30%2E6px%3Bmargin%2Dtop%3A54px%7Dh3%7Bfont%2Dsize%3A21%2E6px%3Bline%2Dheight%3A27px%3Bmargin%2Dtop%3A36px%7Dh4%7Bfont%2Dsize%3A18px%3Bline%2Dheight%3A23%2E4px%3Bmargin%2Dtop%3A18px%7Dh5%7Bfont%2Dsize%3A14%2E4px%3Bfont%2Dweight%3Abold%3Bline%2Dheight%3A21%2E6px%3Btext%2Dtransform%3Auppercase%7Dh6%7Bcolor%3A%23595959%3Bfont%2Dsize%3A14%2E4px%3Bfont%2Dweight%3Abold%3Bline%2Dheight%3A18px%3Btext%2Dtransform%3Auppercase%7Dinput%2Ctextarea%2Cselect%2Cbutton%2Coption%2Chtml%2Cbody%7Bfont%2Dfamily%3Asystem%2Dui%2C%22Helvetica%20Neue%22%2CHelvetica%2CArial%2Csans%2Dserif%3Bfont%2Dsize%3A18px%3Bfont%2Dstretch%3Anormal%3Bfont%2Dstyle%3Anormal%3Bfont%2Dweight%3A400%3Bline%2Dheight%3A29%2E7px%7Da%7Bcolor%3A%23275a90%3Btext%2Ddecoration%3Anone%7Da%3Ahover%7Btext%2Ddecoration%3Aunderline%7Dhr%7Bborder%2Dbottom%3A1px%20solid%20%23595959%7Dfigcaption%2Csmall%7Bfont%2Dsize%3A15%2E3px%7Dfigcaption%7Bcolor%3A%23595959%7Dvar%2Cem%2Ci%7Bfont%2Dstyle%3Aitalic%7Ddt%2Cstrong%2Cb%7Bfont%2Dweight%3A600%7Ddel%2Cs%7Btext%2Ddecoration%3Aline%2Dthrough%7Dins%2Cu%7Btext%2Ddecoration%3Aunderline%7Dsub%2Csup%7Bfont%2Dsize%3A75%25%3Bline%2Dheight%3A0%3Bposition%3Arelative%3Bvertical%2Dalign%3Abaseline%7Dsup%7Btop%3A%2D%2E5em%7Dsub%7Bbottom%3A%2D%2E25em%7D%2A%7Bborder%3A0%3Bborder%2Dcollapse%3Aseparate%3Bborder%2Dspacing%3A0%3Bbox%2Dsizing%3Aborder%2Dbox%3Bmargin%3A0%3Bmax%2Dwidth%3A100%25%3Bpadding%3A0%3Bvertical%2Dalign%3Abaseline%7Dhtml%2Cbody%7Bwidth%3A100%25%7Dhtml%7Bheight%3A100%25%7Dbody%7Bbackground%3A%23fff%3Bcolor%3A%231a1919%3Bpadding%3A36px%7Dp%2Cul%2Col%2Cdl%2Cblockquote%2Chr%2Cpre%2Ctable%2Cform%2Cfieldset%2Cfigure%2Caddress%7Bmargin%2Dbottom%3A29%2E7px%7Dsection%7Bmargin%2Dleft%3Aauto%3Bmargin%2Dright%3Aauto%3Bwidth%3A900px%7Daside%7Bfloat%3Aright%3Bwidth%3A285px%7Darticle%2Cheader%2Cfooter%7Bpadding%3A43%2E2px%7Darticle%7Bbackground%3A%23fff%3Bborder%3A1px%20solid%20%23d9d9d9%3Bborder%2Dradius%3A7%2E2px%7Dnav%7Btext%2Dalign%3Acenter%7Dnav%20ul%7Blist%2Dstyle%3Anone%3Bmargin%2Dleft%3A0%3Btext%2Dalign%3Acenter%7Dnav%20ul%20li%7Bdisplay%3Ainline%2Dblock%3Bmargin%2Dleft%3A9px%3Bmargin%2Dright%3A9px%3Bvertical%2Dalign%3Amiddle%7Dnav%20ul%20li%3Afirst%2Dchild%7Bmargin%2Dleft%3A0%7Dnav%20ul%20li%3Alast%2Dchild%7Bmargin%2Dright%3A0%7Dol%2Cul%7Bmargin%2Dleft%3A31%2E5px%7Dli%20dl%2Cli%20ol%2Cli%20ul%7Bmargin%2Dbottom%3A0%7Ddl%7Bdisplay%3Ainline%2Dblock%7Ddt%7Bpadding%3A0%2018px%7Ddd%7Bpadding%3A0%2018px%204%2E5px%7Ddd%3Alast%2Dof%2Dtype%7Bborder%2Dbottom%3A1%2E08px%20solid%20%23595959%7Ddd%2Bdt%7Bborder%2Dtop%3A1%2E08px%20solid%20%23595959%3Bpadding%2Dtop%3A9px%7Dblockquote%7Bborder%2Dleft%3A2%2E16px%20solid%20%23595959%3Bpadding%3A4%2E5px%2018px%204%2E5px%2015%2E84px%7Dblockquote%20footer%7Bcolor%3A%23595959%3Bfont%2Dsize%3A13%2E5px%3Bmargin%3A0%7Dblockquote%20p%7Bmargin%2Dbottom%3A0%7Dimg%7Bheight%3Aauto%3Bmargin%3A0%20auto%7Dfigure%20img%7Bdisplay%3Ablock%7D%40media%20%28max%2Dwidth%3A%20767px%29%7Bbody%7Bpadding%3A18px%200%7Darticle%7Bborder%3A0%3Bpadding%3A18px%7Dheader%2Cfooter%7Bpadding%3A18px%7Dtextarea%2Cinput%2Cselect%7Bmin%2Dwidth%3A0%7Dfieldset%7Bmin%2Dwidth%3A0%7Dfieldset%20%2A%7Bflex%2Dgrow%3A1%3Bpage%2Dbreak%2Dbefore%3Aauto%7Dsection%7Bwidth%3Aauto%7Dx%3A%2Dmoz%2Dany%2Dlink%7Bdisplay%3Atable%2Dcell%7D%7D%0A" rel="stylesheet" />
</head>
<body>
<style type="text/css" charset="utf-8">
main {
  max-width: 48em;
  margin: auto;
}

@media only screen and (max-width: 768px) {
  main {
    max-width: 100%;
  }
}

img {
  max-width: 100%;
}
</style>


<main>
<header>
<h1 id="title" class="toc-ignore">Statistical Consulting</h1>
<h2 id="subtitle" class="toc-ignore">Data Preprocessing</h2>
<p id="date">10 November, 2021</p>
<p id="author">Dennis Klein, Daniel Seussler</p>

</header>


<h1 id="start">Start</h1>
<h2 id="sources">Sources</h2>
<ul>
<li>CEPII TRADEHIST <a href="http://www.cepii.fr/cepii/en/bdd_modele/presentation.asp?id=32" class="uri">http://www.cepii.fr/cepii/en/bdd_modele/presentation.asp?id=32</a>
<ul>
<li>Bilateral Trade and Bilateral Tariffs</li>
</ul></li>
<li>Exchange Rates <a href="https://www.measuringworth.com/datasets/exchangeglobal/" class="uri">https://www.measuringworth.com/datasets/exchangeglobal/</a></li>
<li>CPI US <a href="https://www.statbureau.org/en/united-states/cpi-u" class="uri">https://www.statbureau.org/en/united-states/cpi-u</a></li>
<li>Replication files <a href="https://www.cambridge.org/core/journals/network-science/article/separable-and-semiparametric-networkbased-counting-processes-applied-to-the-international-combat-aircraft-trades/0D57EC7B7E1775B0BEF72BDE101E507F#article" class="uri">https://www.cambridge.org/core/journals/network-science/article/separable-and-semiparametric-networkbased-counting-processes-applied-to-the-international-combat-aircraft-trades/0D57EC7B7E1775B0BEF72BDE101E507F#article</a></li>
<li>Peacesciencer <a href="http://svmiller.com/peacesciencer/index.html" class="uri">http://svmiller.com/peacesciencer/index.html</a></li>
</ul>
<h2 id="setup">Setup</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(countrycode)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(peacesciencer)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>time_frame <span class="ot">&lt;-</span> <span class="dv">1991</span><span class="sc">:</span><span class="dv">2014</span></span></code></pre></div>
<h2 id="create-state-year-nodelist">Create state-year nodelist</h2>
<p>Countries included in the COW System for our time frame. Use COW codes to link across data sets. Include control variables, constructed using <code>peacesciencer</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">create_stateyears</span>(<span class="at">system =</span> <span class="st">&quot;cow&quot;</span>, <span class="at">mry =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_democracy</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_nmc</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_sdp_gdp</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> time_frame) <span class="ot">-&gt;</span> nodes</span></code></pre></div>
<pre><code>## Joining, by = c(&quot;ccode&quot;, &quot;year&quot;)
## Joining, by = c(&quot;ccode&quot;, &quot;year&quot;)
## Joining, by = c(&quot;ccode&quot;, &quot;year&quot;)</code></pre>
<h2 id="create-state-state-year-nodelist">Create state-state-year nodelist</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">create_dyadyears</span>(<span class="at">system =</span> <span class="st">&quot;cow&quot;</span>, <span class="at">mry =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  add_capital_distance <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_contiguity</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_minimum_distance</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_atop_alliance</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> time_frame)<span class="ot">-&gt;</span> dyads</span></code></pre></div>
<pre><code>## Joining, by = c(&quot;ccode1&quot;, &quot;ccode2&quot;, &quot;year&quot;)
## Joining, by = c(&quot;ccode1&quot;, &quot;ccode2&quot;, &quot;year&quot;)
## Joining, by = c(&quot;ccode1&quot;, &quot;ccode2&quot;, &quot;year&quot;)</code></pre>
<h1 id="bilateral-tradeflows">Bilateral Tradeflows</h1>
<h2 id="tradehist">TRADEHIST</h2>
<p>Load trade data.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>TRADHIST_BITRADE_BITARIFF_1 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;data raw/CEPII TRADEHIST/TRADHIST_BITRADE_BITARIFF_1.xlsx&quot;</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>TRADHIST_BITRADE_BITARIFF_2 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;data raw/CEPII TRADEHIST/TRADHIST_BITRADE_BITARIFF_2.xlsx&quot;</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>TRADHIST_BITRADE_BITARIFF_3 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;data raw/CEPII TRADEHIST/TRADHIST_BITRADE_BITARIFF_3.xlsx&quot;</span>)</span></code></pre></div>
<p>Currency British Pound Sterling. Nominal trade flows, rebase to constant 2011$ USD.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>exchange_usd_gbp <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data raw/EXCHANGEGLOBAL_1945-2020.csv&quot;</span>, </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>                             <span class="at">header =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">year =</span> V1, <span class="at">GBP_USD =</span> V2) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">GBP_USD =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">&quot; British Pound&quot;</span>, <span class="st">&quot;&quot;</span>, GBP_USD)))</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>cpi_us <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data raw/united-states.index.cpi-u (statbureau.org).csv&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">year =</span> ï..Year) <span class="sc">%&gt;%</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1950</span><span class="sc">:</span><span class="dv">2020</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">&quot;January&quot;</span>, <span class="st">&quot;February&quot;</span>, <span class="st">&quot;March&quot;</span>, <span class="st">&quot;April&quot;</span>, <span class="st">&quot;May&quot;</span>, <span class="st">&quot;June&quot;</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;July&quot;</span>, <span class="st">&quot;August&quot;</span>, <span class="st">&quot;September&quot;</span>, <span class="st">&quot;October&quot;</span>, <span class="st">&quot;November&quot;</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;December&quot;</span>),</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;month&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;cpi&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">cpi =</span> <span class="fu">mean</span>(cpi)) <span class="sc">%&gt;%</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cpi_factor =</span> cpi <span class="sc">/</span> <span class="fu">as.numeric</span>(<span class="fu">filter</span>(., year <span class="sc">==</span> <span class="dv">2011</span>)[,<span class="dv">2</span>]))</span></code></pre></div>
<p>Merge data, filter for out time-frame. Do conversions. Replace flow_0 values. Include COW codes.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>TRADHIST_BITRADE_BITARIFF_1 <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(TRADHIST_BITRADE_BITARIFF_2) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(TRADHIST_BITRADE_BITARIFF_3) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> time_frame) <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">FLOW =</span> <span class="fu">replace</span>(FLOW, FLOW_0 <span class="sc">==</span> <span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(exchange_usd_gbp, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;year&quot;</span> <span class="ot">=</span> <span class="st">&quot;year&quot;</span>), <span class="at">na_matches =</span> <span class="st">&quot;never&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(cpi_us, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;year&quot;</span> <span class="ot">=</span> <span class="st">&quot;year&quot;</span>), <span class="at">na_matches =</span> <span class="st">&quot;never&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">FLOW =</span> (FLOW <span class="sc">/</span> GBP_USD) <span class="sc">/</span> cpi_factor) <span class="sc">%&gt;%</span> </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(iso_o, iso_d, year, FLOW) <span class="ot">-&gt;</span> bilateral_trade</span></code></pre></div>
<p>Countries included in our time frame. Useful Coverage? Selection?</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>dictionary <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;ABW&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>, </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;ANT&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>, </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;BMU&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>, </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CUW&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CZSK&quot;</span> <span class="ot">=</span> <span class="dv">315</span>, </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;EDEU&quot;</span> <span class="ot">=</span> <span class="dv">265</span>, </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;FLK&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>, </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;FRO&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>, </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;GIB&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>, </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;GLP&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>, </span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;GRL&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>, </span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;GUF&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>, </span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;HKG&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>, </span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;MAC&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;MTQ&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>, </span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;NCL&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>, </span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;PYF&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>,</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;REU&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>,</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;ROM&quot;</span> <span class="ot">=</span> <span class="dv">360</span>, </span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;SHN&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>,</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;SPM&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>,</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;USSR&quot;</span> <span class="ot">=</span> <span class="dv">365</span>, </span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;WDEU&quot;</span> <span class="ot">=</span> <span class="dv">260</span>, </span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;YAR&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>,</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;YMD&quot;</span> <span class="ot">=</span> <span class="cn">NA</span>, </span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;YUG&quot;</span><span class="ot">=</span> <span class="dv">345</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>bilateral_trade <span class="sc">%&gt;%</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ccode1 =</span> <span class="fu">countrycode</span>(iso_o, <span class="st">&quot;iso3c&quot;</span>, <span class="st">&quot;cown&quot;</span>, <span class="at">custom_match =</span> dictionary)) <span class="sc">%&gt;%</span></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ccode2 =</span> <span class="fu">countrycode</span>(iso_d, <span class="st">&quot;iso3c&quot;</span>, <span class="st">&quot;cown&quot;</span>, <span class="at">custom_match =</span> dictionary)) <span class="ot">-&gt;</span> bilateral_trade</span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>dyads <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(bilateral_trade, </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;ccode1&quot;</span> <span class="ot">=</span> <span class="st">&quot;ccode1&quot;</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;ccode2&quot;</span> <span class="ot">=</span> <span class="st">&quot;ccode2&quot;</span>, </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;year&quot;</span> <span class="ot">=</span> <span class="st">&quot;year&quot;</span>), </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">na_matches =</span> <span class="st">&quot;never&quot;</span>) <span class="ot">-&gt;</span> dyads</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(dyads)</span></code></pre></div>
<pre><code>##      ccode1          ccode2           year         capdist         
##  Min.   :  2.0   Min.   :  2.0   Min.   :1991   Min.   :    7.412  
##  1st Qu.:255.0   1st Qu.:255.0   1st Qu.:1997   1st Qu.: 4322.456  
##  Median :450.0   Median :450.0   Median :2003   Median : 7410.907  
##  Mean   :465.1   Mean   :465.1   Mean   :2003   Mean   : 7847.156  
##  3rd Qu.:679.0   3rd Qu.:679.0   3rd Qu.:2009   3rd Qu.:11016.448  
##  Max.   :990.0   Max.   :990.0   Max.   :2014   Max.   :19952.315  
##                                                                    
##     conttype          mindist       atop_defense      atop_offense
##  Min.   :0.00000   Min.   :    0   Min.   :0.00000   Min.   :0    
##  1st Qu.:0.00000   1st Qu.: 3374   1st Qu.:0.00000   1st Qu.:0    
##  Median :0.00000   Median : 6488   Median :0.00000   Median :0    
##  Mean   :0.07447   Mean   : 6952   Mean   :0.07155   Mean   :0    
##  3rd Qu.:0.00000   3rd Qu.:10039   3rd Qu.:0.00000   3rd Qu.:0    
##  Max.   :5.00000   Max.   :19642   Max.   :1.00000   Max.   :0    
##                    NA&#39;s   :11708                                  
##   atop_neutral       atop_nonagg      atop_consul         iso_o          
##  Min.   :0.000000   Min.   :0.0000   Min.   :0.00000   Length:864988     
##  1st Qu.:0.000000   1st Qu.:0.0000   1st Qu.:0.00000   Class :character  
##  Median :0.000000   Median :0.0000   Median :0.00000   Mode  :character  
##  Mean   :0.002768   Mean   :0.1762   Mean   :0.06929                     
##  3rd Qu.:0.000000   3rd Qu.:0.0000   3rd Qu.:0.00000                     
##  Max.   :1.000000   Max.   :1.0000   Max.   :1.00000                     
##                                                                          
##     iso_d                FLOW          
##  Length:864988      Min.   :0.000e+00  
##  Class :character   1st Qu.:0.000e+00  
##  Mode  :character   Median :6.006e+04  
##                     Mean   :3.183e+08  
##                     3rd Qu.:8.323e+06  
##                     Max.   :4.443e+11  
##                     NA&#39;s   :76080</code></pre>
<p>What is the distribution of bilateral trade flows normed by country GDP? Select appropiate cut-off to binarize the network.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># to do</span></span></code></pre></div>
<p>Create trade network.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>network_trade <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">&quot;list&quot;</span>, <span class="fu">length</span>(time_frame))</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>network_trade_binary <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">&quot;list&quot;</span>, <span class="fu">length</span>(time_frame))</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (num <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(time_frame)) {</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dyads, year <span class="sc">==</span> time_frame[num])[, <span class="fu">c</span>(<span class="st">&quot;ccode1&quot;</span>, <span class="st">&quot;ccode2&quot;</span>, <span class="st">&quot;FLOW&quot;</span>)] <span class="sc">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> ccode2, <span class="at">names_sort =</span> <span class="cn">TRUE</span>, <span class="at">values_from =</span> FLOW) <span class="sc">%&gt;%</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">column_to_rownames</span>(<span class="at">var =</span> <span class="st">&quot;ccode1&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.matrix</span>() <span class="ot">-&gt;</span> net</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  network_trade[[num]] <span class="ot">&lt;-</span> <span class="fu">as.network</span>(net)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Does not work because types nodes enter and exit the international system. Drop these?</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># trade_dynamic_network &lt;- networkDynamic(network.list=network_trade)</span></span></code></pre></div>
<h1 id="mcw-weapon-transfers">MCW Weapon Transfers</h1>
<p>Replication files from <em>Separable and semiparametric network-based counting processes applied to the international combat aircraft trades</em>.</p>
<h1 id="save">Save</h1>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(network_trade, <span class="st">&quot;data/out/network_trade.rds&quot;</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># saveRDS(network_armstrade, &quot;data/out/network_trade.rds&quot;)</span></span></code></pre></div>

</main>


</body>
</html>
